@{
    ViewBag.Title = "Categories: Where It Goes";
    ViewBag.Scripts = new[] { "~/Scripts/ViewModels/CategoriesViewModel.js" };
    
}

<h2>Manage Categories</h2>
<ul data-bind="template: { name: 'category-template', foreach: categories }">
    
</ul>
<span data-bind="if: loading" class="loading-marker">Loading...</span>

<script type="text/html" id="category-template">
    <li>
        <span data-bind="text: name, visible: !editing()"></span>
        <input data-bind="value: name, visible: editing"></input>
        <a href="#" data-bind="click: edit, visible: !(editing() || saving() || error())">Edit</a>
        <a href="#" data-bind="click: commit, visible: editing() && !error()">Save</a>
        <span data-bind="visible: saving" class="loading-marker">Saving...</span>
        <a href="#" class="error-message" data-bind="visible: error, click: commit">Save Error - Click to Retry</a>
    </li>
</script>